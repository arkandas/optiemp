import {Component, OnInit} from '@angular/core';
import {EChartsOption} from "echarts";

@Component({
  selector: 'app-line-chart',
  templateUrl: './line-chart.component.html',
  styleUrls: ['./line-chart.component.scss']
})
export class LineChartComponent {

  data = [["2021-10-05", 1160], ["2021-10-06", 1290], ["2021-10-07", 1350], ["2021-10-08", 860], ["2021-10-09", 730], ["2021-10-10", 850], ["2021-10-11", 730], ["2021-10-12", 680], ["2021-10-13", 920], ["2021-10-14", 1300], ["2021-10-15", 2450], ["2021-10-16", 1390], ["2021-10-17", 1150], ["2021-10-18", 1110], ["2021-10-19", 3090], ["2021-10-20", 2060], ["2021-10-21", 1370], ["2021-10-22", 1280], ["2021-10-23", 850], ["2021-10-24", 940], ["2021-10-25", 710], ["2021-10-26", 1060], ["2021-10-27", 840], ["2021-10-28", 930], ["2021-10-29", 850], ["2021-10-30", 730], ["2021-11-01", 830], ["2021-11-02", 1205], ["2021-11-03", 1007], ["2021-11-04", 802], ["2021-11-05", 404], ["2021-11-06", 702], ["2021-11-07", 1006], ["2021-11-08", 1007], ["2021-11-09", 606], ["2021-11-10", 901], ["2021-11-11", 902], ["2021-11-12", 1103], ["2021-11-13", 1007], ["2021-11-14", 1301], ["2021-11-15", 1110], ["2021-11-16", 604], ["2021-11-17", 609], ["2021-11-18", 880], ["2021-11-19", 770], ["2021-11-20", 803], ["2021-11-21", 1101], ["2021-11-22", 570], ["2021-11-23", 505], ["2021-11-24", 2345]];

  dateList = this.data.map(function (item) {
    return item[0];
  });
  valueList = this.data.map(function (item) {
    return item[1];
  });

  chartOption: EChartsOption = {
    // Make gradient line here
    visualMap: [
      {
        show: false,
        type: 'continuous',
        seriesIndex: 0,
        min: 0,
        max: 4000
      }
    ],

    tooltip: {
      trigger: 'axis'
    },
    xAxis: [
      {
        data: this.dateList,
        gridIndex: 0
      }
    ],
    yAxis: [
      {
        gridIndex: 0
      }
    ],
    series: [
      {
        type: 'line',
        showSymbol: true,
        data: this.valueList
      }
    ]
  };

}
